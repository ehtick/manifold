const In="modulepreload",On=function(le){return"/"+le},Ur={},Dn=function(xe,re,i){let de=Promise.resolve();if(re&&re.length>0){let q=function(R){return Promise.all(R.map(B=>Promise.resolve(B).then(G=>({status:"fulfilled",value:G}),G=>({status:"rejected",reason:G}))))};document.getElementsByTagName("link");const V=document.querySelector("meta[property=csp-nonce]"),te=V?.nonce||V?.getAttribute("nonce");de=q(re.map(R=>{if(R=On(R),R in Ur)return;Ur[R]=!0;const B=R.endsWith(".css"),G=B?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${R}"]${G}`))return;const I=document.createElement("link");if(I.rel=B?"stylesheet":In,B||(I.as="script"),I.crossOrigin="",I.href=R,te&&I.setAttribute("nonce",te),document.head.appendChild(I),B)return new Promise((M,Be)=>{I.addEventListener("load",M),I.addEventListener("error",()=>Be(new Error(`Unable to preload CSS for ${R}`)))})}))}function X(q){const V=new Event("vite:preloadError",{cancelable:!0});if(V.payload=q,window.dispatchEvent(V),!V.defaultPrevented)throw q}return de.then(q=>{for(const V of q||[])V.status==="rejected"&&X(V.reason);return xe().catch(X)})};var Un=(()=>{var le=import.meta.url;return(async function(xe={}){var re,i=xe,de,X,q=new Promise((e,r)=>{de=e,X=r}),V=typeof window=="object",te=typeof importScripts=="function",R=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(R){const{createRequire:e}=await Dn(()=>import("./__vite-browser-external.js"),[]);var B=e(import.meta.url)}var G=!1;i.setup=function(){if(G)return;G=!0,i.initTBB();function e(o,a,f=(p=>p)){if(a)for(let p of a)o.push_back(f(p));return o}function r(o,a=(f=>f)){const f=[],p=o.size();for(let m=0;m<p;m++)f.push(a(o.get(m)));return f}function t(o,a=(f=>f)){const f=[],p=o.size();for(let m=0;m<p;m++){const b=o.get(m),w=b.size(),W=[];for(let A=0;A<w;A++)W.push(a(b.get(A)));f.push(W)}return f}function n(o){return o[0].length<3&&(o=[o]),e(new i.Vector2_vec2,o,a=>e(new i.Vector_vec2,a,f=>f instanceof Array?{x:f[0],y:f[1]}:f))}function s(o){for(let a=0;a<o.size();a++)o.get(a).delete();o.delete()}function u(o){return o[0]instanceof Array?{x:o[0][0],y:o[0][1]}:typeof o[0]=="number"?{x:o[0]||0,y:o[1]||0}:o[0]}function l(o){return o[0]instanceof Array?{x:o[0][0],y:o[0][1],z:o[0][2]}:typeof o[0]=="number"?{x:o[0]||0,y:o[1]||0,z:o[2]||0}:o[0]}function c(o){return o=="EvenOdd"?0:o=="NonZero"?1:o=="Negative"?3:2}function d(o){return o=="Round"?1:o=="Miter"?2:0}const v=i.CrossSection;function h(o,a="Positive"){if(o instanceof v)return o;{const f=n(o),p=new v(f,c(a));return s(f),p}}i.CrossSection.prototype.translate=function(...o){return this._Translate(u(o))},i.CrossSection.prototype.scale=function(o){return typeof o=="number"?this._Scale({x:o,y:o}):this._Scale(u([o]))},i.CrossSection.prototype.mirror=function(o){return this._Mirror(u([o]))},i.CrossSection.prototype.warp=function(o){const a=$e(function(p){const m=O(p,"double"),b=O(p+8,"double"),w=[m,b];o(w),oe(p,w[0],"double"),oe(p+8,w[1],"double")},"vi"),f=this._Warp(a);return we(a),f},i.CrossSection.prototype.decompose=function(){const o=this._Decompose(),a=r(o);return o.delete(),a},i.CrossSection.prototype.bounds=function(){const o=this._Bounds();return{min:["x","y"].map(a=>o.min[a]),max:["x","y"].map(a=>o.max[a])}},i.CrossSection.prototype.offset=function(o,a="Round",f=2,p=0){return this._Offset(o,d(a),f,p)},i.CrossSection.prototype.simplify=function(o=1e-6){return this._Simplify(o)},i.CrossSection.prototype.extrude=function(o,a=0,f=0,p=[1,1],m=!1){p=u([p]);const b=i._Extrude(this._ToPolygons(),o,a,f,p);return m?b.translate([0,0,-o/2]):b},i.CrossSection.prototype.revolve=function(o=0,a=360){return i._Revolve(this._ToPolygons(),o,a)},i.CrossSection.prototype.add=function(o){return this._add(h(o))},i.CrossSection.prototype.subtract=function(o){return this._subtract(h(o))},i.CrossSection.prototype.intersect=function(o){return this._intersect(h(o))},i.CrossSection.prototype.toPolygons=function(){const o=this._ToPolygons(),a=t(o,f=>[f.x,f.y]);return o.delete(),a},i.Manifold.prototype.smoothOut=function(o=60,a=0){return this._SmoothOut(o,a)},i.Manifold.prototype.warp=function(o){const a=$e(function(m){const b=O(m,"double"),w=O(m+8,"double"),W=O(m+16,"double"),A=[b,w,W];o(A),oe(m,A[0],"double"),oe(m+8,A[1],"double"),oe(m+16,A[2],"double")},"vi"),f=this._Warp(a);we(a);const p=f.status();if(p!=="NoError")throw new i.ManifoldError(p);return f},i.Manifold.prototype.calculateNormals=function(o,a=60){return this._CalculateNormals(o,a)},i.Manifold.prototype.setProperties=function(o,a){const f=this.numProp(),p=$e(function(b,w,W){const A=[];for(let C=0;C<o;++C)A[C]=O(b+8*C,"double");const ce=[];for(let C=0;C<3;++C)ce[C]=O(w+8*C,"double");const fe=[];for(let C=0;C<f;++C)fe[C]=O(W+8*C,"double");a(A,ce,fe);for(let C=0;C<o;++C)oe(b+8*C,A[C],"double")},"viii"),m=this._SetProperties(o,p);return we(p),m},i.Manifold.prototype.translate=function(...o){return this._Translate(l(o))},i.Manifold.prototype.rotate=function(o,a,f){return Array.isArray(o)?this._Rotate(...o):this._Rotate(o,a||0,f||0)},i.Manifold.prototype.scale=function(o){return typeof o=="number"?this._Scale({x:o,y:o,z:o}):this._Scale(l([o]))},i.Manifold.prototype.mirror=function(o){return this._Mirror(l([o]))},i.Manifold.prototype.trimByPlane=function(o,a=0){return this._TrimByPlane(l([o]),a)},i.Manifold.prototype.slice=function(o=0){const a=this._Slice(o),f=new v(a,c("Positive"));return s(a),f},i.Manifold.prototype.project=function(){const o=this._Project(),a=new v(o,c("Positive"));return s(o),a},i.Manifold.prototype.split=function(o){const a=this._Split(o),f=r(a);return a.delete(),f},i.Manifold.prototype.splitByPlane=function(o,a=0){const f=this._SplitByPlane(l([o]),a),p=r(f);return f.delete(),p},i.Manifold.prototype.decompose=function(){const o=this._Decompose(),a=r(o);return o.delete(),a},i.Manifold.prototype.boundingBox=function(){const o=this._boundingBox();return{min:["x","y","z"].map(a=>o.min[a]),max:["x","y","z"].map(a=>o.max[a])}};class y{constructor({numProp:a=3,triVerts:f=new Uint32Array,vertProperties:p=new Float32Array,mergeFromVert:m,mergeToVert:b,runIndex:w,runOriginalID:W,faceID:A,halfedgeTangent:ce,runTransform:fe}={}){this.numProp=a,this.triVerts=f,this.vertProperties=p,this.mergeFromVert=m,this.mergeToVert=b,this.runIndex=w,this.runOriginalID=W,this.faceID=A,this.halfedgeTangent=ce,this.runTransform=fe}get numTri(){return this.triVerts.length/3}get numVert(){return this.vertProperties.length/this.numProp}get numRun(){return this.runOriginalID.length}merge(){const{changed:a,mesh:f}=i._Merge(this);return Object.assign(this,{...f}),a}verts(a){return this.triVerts.subarray(3*a,3*(a+1))}position(a){return this.vertProperties.subarray(this.numProp*a,this.numProp*a+3)}extras(a){return this.vertProperties.subarray(this.numProp*a+3,this.numProp*(a+1))}tangent(a){return this.halfedgeTangent.subarray(4*a,4*(a+1))}transform(a){const f=new Array(16);for(const p of[0,1,2,3])for(const m of[0,1,2])f[4*p+m]=this.runTransform[12*a+3*p+m];return f[15]=1,f}}i.Mesh=y,i.Manifold.prototype.getMesh=function(o=-1){return new y(this._GetMeshJS(o))},i.ManifoldError=function(a,...f){let p="Unknown error";switch(a){case"NonFiniteVertex":p="Non-finite vertex";break;case"NotManifold":p="Not manifold";break;case"VertexOutOfBounds":p="Vertex index out of bounds";break;case"PropertiesWrongLength":p="Properties have wrong length";break;case"MissingPositionProperties":p="Less than three properties";break;case"MergeVectorsDifferentLengths":p="Merge vectors have different lengths";break;case"MergeIndexOutOfBounds":p="Merge index out of bounds";break;case"TransformWrongLength":p="Transform vector has wrong length";break;case"RunIndexWrongLength":p="Run index vector has wrong length";break;case"FaceIDWrongLength":p="Face ID vector has wrong length";case"InvalidConstruction":p="Manifold constructed with invalid parameters"}const m=Error.apply(this,[p,...f]);m.name=this.name="ManifoldError",this.message=m.message,this.stack=m.stack,this.code=a},i.ManifoldError.prototype=Object.create(Error.prototype,{constructor:{value:i.ManifoldError,writable:!0,configurable:!0}}),i.CrossSection=function(o,a="Positive"){const f=n(o),p=new v(f,c(a));return s(f),p},i.CrossSection.ofPolygons=function(o,a="Positive"){return new i.CrossSection(o,a)},i.CrossSection.square=function(...o){let a;o.length==0?a={x:1,y:1}:typeof o[0]=="number"?a={x:o[0],y:o[0]}:a=u(o);const f=o[1]||!1;return i._Square(a,f)},i.CrossSection.circle=function(o,a=0){return i._Circle(o,a)};function g(o){return function(...a){a.length==1&&(a=a[0]);const f=new i.Vector_crossSection;for(const m of a)f.push_back(h(m));const p=i["_crossSection"+o](f);return f.delete(),p}}i.CrossSection.compose=g("Compose"),i.CrossSection.union=g("UnionN"),i.CrossSection.difference=g("DifferenceN"),i.CrossSection.intersection=g("IntersectionN");function T(o,a){e(o,a,f=>f instanceof Array?{x:f[0],y:f[1]}:f)}i.CrossSection.hull=function(...o){o.length==1&&(o=o[0]);let a=new i.Vector_vec2;for(const p of o)if(p instanceof v)i._crossSectionCollectVertices(a,p);else if(p instanceof Array&&p.length==2&&typeof p[0]=="number")a.push_back({x:p[0],y:p[1]});else if(p.x)a.push_back(p);else{const b=p[0].length==2&&typeof p[0][0]=="number"||p[0].x?[p]:p;for(const w of b)T(a,w)}const f=i._crossSectionHullPoints(a);return a.delete(),f},i.CrossSection.prototype=Object.create(v.prototype),Object.defineProperty(i.CrossSection,Symbol.hasInstance,{get:()=>o=>o instanceof v});const $=i.Manifold;i.Manifold=function(o){const a=new $(o),f=a.status();if(f!=="NoError")throw new i.ManifoldError(f);return a},i.Manifold.ofMesh=function(o){return new i.Manifold(o)},i.Manifold.tetrahedron=function(){return i._Tetrahedron()},i.Manifold.cube=function(...o){let a;o.length==0?a={x:1,y:1,z:1}:typeof o[0]=="number"?a={x:o[0],y:o[0],z:o[0]}:a=l(o);const f=o[1]||!1;return i._Cube(a,f)},i.Manifold.cylinder=function(o,a,f=-1,p=0,m=!1){return i._Cylinder(o,a,f,p,m)},i.Manifold.sphere=function(o,a=0){return i._Sphere(o,a)},i.Manifold.smooth=function(o,a=[]){const f=new i.Vector_smoothness;e(f,a);const p=i._Smooth(o,f);return f.delete(),p},i.Manifold.extrude=function(o,a,f=0,p=0,m=[1,1],b=!1){return(o instanceof v?o:i.CrossSection(o,"Positive")).extrude(a,f,p,m,b)},i.Manifold.revolve=function(o,a=0,f=360){return(o instanceof v?o:i.CrossSection(o,"Positive")).revolve(a,f)},i.Manifold.reserveIDs=function(o){return i._ReserveIDs(o)},i.Manifold.compose=function(o){const a=new i.Vector_manifold;e(a,o);const f=i._manifoldCompose(a);return a.delete(),f};function U(o){return function(...a){a.length==1&&(a=a[0]);const f=new i.Vector_manifold;for(const m of a)f.push_back(m);const p=i["_manifold"+o+"N"](f);return f.delete(),p}}i.Manifold.union=U("Union"),i.Manifold.difference=U("Difference"),i.Manifold.intersection=U("Intersection"),i.Manifold.levelSet=function(o,a,f,p=0,m=-1){const b={min:{x:a.min[0],y:a.min[1],z:a.min[2]},max:{x:a.max[0],y:a.max[1],z:a.max[2]}},w=$e(function(A){const ce=O(A,"double"),fe=O(A+8,"double"),C=O(A+16,"double");return o([ce,fe,C])},"di"),W=i._LevelSet(w,b,f,p,m);return we(w),W};function x(o,a){e(o,a,f=>f instanceof Array?{x:f[0],y:f[1],z:f[2]}:f)}i.Manifold.hull=function(...o){o.length==1&&(o=o[0]);let a=new i.Vector_vec3;for(const p of o)p instanceof $?i._manifoldCollectVertices(a,p):p instanceof Array&&p.length==3&&typeof p[0]=="number"?a.push_back({x:p[0],y:p[1],z:p[2]}):p.x?a.push_back(p):x(a,p);const f=i._manifoldHullPoints(a);return a.delete(),f},i.Manifold.prototype=Object.create($.prototype),Object.defineProperty(i.Manifold,Symbol.hasInstance,{get:()=>o=>o instanceof $}),i.triangulate=function(o,a=-1,f=!0){const p=n(o),m=r(i._Triangulate(p,a,f),b=>[b[0],b[1],b[2]]);return s(p),m}};var I=Object.assign({},i),M="";function Be(e){return i.locateFile?i.locateFile(e,M):M+e}var Le,Ce;if(R){var ir=B("fs"),sr=B("path");M=B("url").fileURLToPath(new URL("./",import.meta.url)),Ce=e=>{e=Fe(e)?new URL(e):sr.normalize(e);var r=ir.readFileSync(e);return r},Le=(e,r=!0)=>(e=Fe(e)?new URL(e):sr.normalize(e),new Promise((t,n)=>{ir.readFile(e,r?void 0:"utf8",(s,u)=>{s?n(s):t(r?u.buffer:u)})})),!i.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2)}else(V||te)&&(te?M=self.location.href:typeof document<"u"&&document.currentScript&&(M=document.currentScript.src),le&&(M=le),M.startsWith("blob:")?M="":M=M.substr(0,M.replace(/[?#].*/,"").lastIndexOf("/")+1),te&&(Ce=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Le=e=>Fe(e)?new Promise((r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{(n.status==200||n.status==0&&n.response)&&t(n.response),r(n.status)},n.onerror=r,n.send(null)}):fetch(e,{credentials:"same-origin"}).then(r=>r.ok?r.arrayBuffer():Promise.reject(new Error(r.status+" : "+r.url))));i.print||console.log.bind(console);var ve=i.printErr||console.error.bind(console);Object.assign(i,I),I=null,i.arguments&&i.arguments,i.thisProgram&&i.thisProgram,i.quit&&i.quit;var pe;i.wasmBinary&&(pe=i.wasmBinary);var Te,ar=!1,k,E,J,he,K,P,Se,Ae;function ur(){var e=Te.buffer;i.HEAP8=k=new Int8Array(e),i.HEAP16=J=new Int16Array(e),i.HEAPU8=E=new Uint8Array(e),i.HEAPU16=he=new Uint16Array(e),i.HEAP32=K=new Int32Array(e),i.HEAPU32=P=new Uint32Array(e),i.HEAPF32=Se=new Float32Array(e),i.HEAPF64=Ae=new Float64Array(e)}var cr=[],fr=[],lr=[];function xr(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Hr(i.preRun.shift());He(cr)}function Br(){He(fr)}function Lr(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)zr(i.postRun.shift());He(lr)}function Hr(e){cr.unshift(e)}function Nr(e){fr.unshift(e)}function zr(e){lr.unshift(e)}var Z=0,ye=null;function qr(e){Z++,i.monitorRunDependencies?.(Z)}function Gr(e){if(Z--,i.monitorRunDependencies?.(Z),Z==0&&ye){var r=ye;ye=null,r()}}function ne(e){i.onAbort?.(e),e="Aborted("+e+")",ve(e),ar=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw X(r),r}var Jr="data:application/octet-stream;base64,",dr=e=>e.startsWith(Jr),Fe=e=>e.startsWith("file://");function Kr(){if(i.locateFile){var e="manifold.wasm";return dr(e)?e:Be(e)}return new URL("/assets/manifold.wasm",import.meta.url).href}var Ee;function vr(e){if(e==Ee&&pe)return new Uint8Array(pe);if(Ce)return Ce(e);throw"both async and sync fetching of the wasm failed"}function Xr(e){return pe?Promise.resolve().then(()=>vr(e)):Le(e).then(r=>new Uint8Array(r),()=>vr(e))}function pr(e,r,t){return Xr(e).then(n=>WebAssembly.instantiate(n,r)).then(t,n=>{ve(`failed to asynchronously prepare wasm: ${n}`),ne(n)})}function Zr(e,r,t,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!dr(r)&&!Fe(r)&&!R&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(s=>{var u=WebAssembly.instantiateStreaming(s,t);return u.then(n,function(l){return ve(`wasm streaming compile failed: ${l}`),ve("falling back to ArrayBuffer instantiation"),pr(r,t,n)})}):pr(r,t,n)}function Qr(){return{a:kn}}function Yr(){var e=Qr();function r(n,s){return j=n.exports,j=Vn(j),Te=j.J,ur(),ue=j.M,Nr(j.K),Gr(),j}qr();function t(n){r(n.instance)}if(i.instantiateWasm)try{return i.instantiateWasm(e,r)}catch(n){ve(`Module.instantiateWasm callback failed with error: ${n}`),X(n)}return Ee||(Ee=Kr()),Zr(pe,Ee,e,t).catch(X),{}}var He=e=>{for(;e.length>0;)e.shift()(i)};function O(e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":return k[e>>>0];case"i8":return k[e>>>0];case"i16":return J[e>>>1>>>0];case"i32":return K[e>>>2>>>0];case"i64":ne("to do getValue(i64) use WASM_BIGINT");case"float":return Se[e>>>2>>>0];case"double":return Ae[e>>>3>>>0];case"*":return P[e>>>2>>>0];default:ne(`invalid type for getValue: ${r}`)}}i.noExitRuntime;function oe(e,r,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":k[e>>>0]=r;break;case"i8":k[e>>>0]=r;break;case"i16":J[e>>>1>>>0]=r;break;case"i32":K[e>>>2>>>0]=r;break;case"i64":ne("to do setValue(i64) use WASM_BIGINT");case"float":Se[e>>>2>>>0]=r;break;case"double":Ae[e>>>3>>>0]=r;break;case"*":P[e>>>2>>>0]=r;break;default:ne(`invalid type for setValue: ${t}`)}}class et{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){P[this.ptr+4>>>2>>>0]=r}get_type(){return P[this.ptr+4>>>2>>>0]}set_destructor(r){P[this.ptr+8>>>2>>>0]=r}get_destructor(){return P[this.ptr+8>>>2>>>0]}set_caught(r){r=r?1:0,k[this.ptr+12>>>0]=r}get_caught(){return k[this.ptr+12>>>0]!=0}set_rethrown(r){r=r?1:0,k[this.ptr+13>>>0]=r}get_rethrown(){return k[this.ptr+13>>>0]!=0}init(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t)}set_adjusted_ptr(r){P[this.ptr+16>>>2>>>0]=r}get_adjusted_ptr(){return P[this.ptr+16>>>2>>>0]}get_exception_ptr(){var r=Dr(this.get_type());if(r)return P[this.excPtr>>>2>>>0];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var hr=0;function rt(e,r,t){e>>>=0,r>>>=0,t>>>=0;var n=new et(e);throw n.init(r,t),hr=e,hr}var tt=()=>{ne("")},Re={},Ne=e=>{for(;e.length;){var r=e.pop(),t=e.pop();t(r)}};function me(e){return this.fromWireType(P[e>>>2>>>0])}var ie={},Q={},Me={},yr,We=e=>{throw new yr(e)},Y=(e,r,t)=>{e.forEach(function(c){Me[c]=r});function n(c){var d=t(c);d.length!==e.length&&We("Mismatched type converter count");for(var v=0;v<e.length;++v)L(e[v],d[v])}var s=new Array(r.length),u=[],l=0;r.forEach((c,d)=>{Q.hasOwnProperty(c)?s[d]=Q[c]:(u.push(c),ie.hasOwnProperty(c)||(ie[c]=[]),ie[c].push(()=>{s[d]=Q[c],++l,l===u.length&&n(s)}))}),u.length===0&&n(s)},nt=function(e){e>>>=0;var r=Re[e];delete Re[e];var t=r.rawConstructor,n=r.rawDestructor,s=r.fields,u=s.map(l=>l.getterReturnType).concat(s.map(l=>l.setterArgumentType));Y([e],u,l=>{var c={};return s.forEach((d,v)=>{var h=d.fieldName,y=l[v],g=d.getter,T=d.getterContext,$=l[v+s.length],U=d.setter,x=d.setterContext;c[h]={read:o=>y.fromWireType(g(T,o)),write:(o,a)=>{var f=[];U(x,o,$.toWireType(f,a)),Ne(f)}}}),[{name:r.name,fromWireType:d=>{var v={};for(var h in c)v[h]=c[h].read(d);return n(d),v},toWireType:(d,v)=>{for(var h in c)if(!(h in v))throw new TypeError(`Missing field: "${h}"`);var y=t();for(h in c)c[h].write(y,v[h]);return d!==null&&d.push(n,y),y},argPackAdvance:H,readValueFromPointer:me,destructorFunction:n}]})};function ot(e,r,t,n,s){}var it=()=>{for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);mr=e},mr,F=e=>{for(var r="",t=e;E[t>>>0];)r+=mr[E[t++>>>0]];return r},se,_=e=>{throw new se(e)};function st(e,r,t={}){var n=r.name;if(e||_(`type "${n}" must have a positive integer typeid pointer`),Q.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;_(`Cannot register type '${n}' twice`)}if(Q[e]=r,delete Me[e],ie.hasOwnProperty(e)){var s=ie[e];delete ie[e],s.forEach(u=>u())}}function L(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");return st(e,r,t)}var H=8;function at(e,r,t,n){e>>>=0,r>>>=0,r=F(r),L(e,{name:r,fromWireType:function(s){return!!s},toWireType:function(s,u){return u?t:n},argPackAdvance:H,readValueFromPointer:function(s){return this.fromWireType(E[s>>>0])},destructorFunction:null})}var ut=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),ze=e=>{function r(t){return t.$$.ptrType.registeredClass.name}_(r(e)+" instance already deleted")},qe=!1,_r=e=>{},ct=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},gr=e=>{e.count.value-=1;var r=e.count.value===0;r&&ct(e)},br=(e,r,t)=>{if(r===t)return e;if(t.baseClass===void 0)return null;var n=br(e,r,t.baseClass);return n===null?null:t.downcast(n)},Pr={},ft=()=>Object.keys(be).length,lt=()=>{var e=[];for(var r in be)be.hasOwnProperty(r)&&e.push(be[r]);return e},_e=[],Ge=()=>{for(;_e.length;){var e=_e.pop();e.$$.deleteScheduled=!1,e.delete()}},ge,dt=e=>{ge=e,_e.length&&ge&&ge(Ge)},vt=()=>{i.getInheritedInstanceCount=ft,i.getLiveInheritedInstances=lt,i.flushPendingDeletes=Ge,i.setDelayFunction=dt},be={},pt=(e,r)=>{for(r===void 0&&_("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r},ht=(e,r)=>(r=pt(e,r),be[r]),ke=(e,r)=>{(!r.ptrType||!r.ptr)&&We("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,n=!!r.smartPtr;return t!==n&&We("Both smartPtrType and smartPtr must be specified"),r.count={value:1},Pe(Object.create(e,{$$:{value:r,writable:!0}}))};function yt(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=ht(this.registeredClass,r);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function s(){return this.isSmartPointer?ke(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):ke(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var u=this.registeredClass.getActualType(r),l=Pr[u];if(!l)return s.call(this);var c;this.isConst?c=l.constPointerType:c=l.pointerType;var d=br(r,this.registeredClass,c.registeredClass);return d===null?s.call(this):this.isSmartPointer?ke(c.registeredClass.instancePrototype,{ptrType:c,ptr:d,smartPtrType:this,smartPtr:e}):ke(c.registeredClass.instancePrototype,{ptrType:c,ptr:d})}var Pe=e=>typeof FinalizationRegistry>"u"?(Pe=r=>r,e):(qe=new FinalizationRegistry(r=>{gr(r.$$)}),Pe=r=>{var t=r.$$,n=!!t.smartPtr;if(n){var s={$$:t};qe.register(r,s,r)}return r},_r=r=>qe.unregister(r),Pe(e)),mt=()=>{Object.assign(Ve.prototype,{isAliasOf(e){if(!(this instanceof Ve)||!(e instanceof Ve))return!1;var r=this.$$.ptrType.registeredClass,t=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,s=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)s=n.upcast(s),n=n.baseClass;return r===n&&t===s},clone(){if(this.$$.ptr||ze(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Pe(Object.create(Object.getPrototypeOf(this),{$$:{value:ut(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||ze(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&_("Object already scheduled for deletion"),_r(this),gr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||ze(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&_("Object already scheduled for deletion"),_e.push(this),_e.length===1&&ge&&ge(Ge),this.$$.deleteScheduled=!0,this}})};function Ve(){}var ae=(e,r)=>Object.defineProperty(r,"name",{value:e}),$r=(e,r,t)=>{if(e[r].overloadTable===void 0){var n=e[r];e[r]=function(...s){return e[r].overloadTable.hasOwnProperty(s.length)||_(`Function '${t}' called with an invalid number of arguments (${s.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[s.length].apply(this,s)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}},Je=(e,r,t)=>{i.hasOwnProperty(e)?((t===void 0||i[e].overloadTable!==void 0&&i[e].overloadTable[t]!==void 0)&&_(`Cannot register public name '${e}' twice`),$r(i,e,e),i.hasOwnProperty(t)&&_(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),i[e].overloadTable[t]=r):(i[e]=r,t!==void 0&&(i[e].numArguments=t))},_t=48,gt=57,bt=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=_t&&r<=gt?`_${e}`:e};function Pt(e,r,t,n,s,u,l,c){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=s,this.getActualType=u,this.upcast=l,this.downcast=c,this.pureVirtualFunctions=[]}var Ke=(e,r,t)=>{for(;r!==t;)r.upcast||_(`Expected null or instance of ${t.name}, got an instance of ${r.name}`),e=r.upcast(e),r=r.baseClass;return e};function $t(e,r){if(r===null)return this.isReference&&_(`null is not a valid ${this.name}`),0;r.$$||_(`Cannot pass "${er(r)}" as a ${this.name}`),r.$$.ptr||_(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Ke(r.$$.ptr,t,this.registeredClass);return n}function wt(e,r){var t;if(r===null)return this.isReference&&_(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,t),t):0;(!r||!r.$$)&&_(`Cannot pass "${er(r)}" as a ${this.name}`),r.$$.ptr||_(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&_(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(t=Ke(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&_("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:_(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var s=r.clone();t=this.rawShare(t,S.toHandle(()=>s.delete())),e!==null&&e.push(this.rawDestructor,t)}break;default:_("Unsupporting sharing policy")}return t}function Ct(e,r){if(r===null)return this.isReference&&_(`null is not a valid ${this.name}`),0;r.$$||_(`Cannot pass "${er(r)}" as a ${this.name}`),r.$$.ptr||_(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&_(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Ke(r.$$.ptr,t,this.registeredClass);return n}var Tt=()=>{Object.assign(Ie.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:H,readValueFromPointer:me,fromWireType:yt})};function Ie(e,r,t,n,s,u,l,c,d,v,h){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=s,this.pointeeType=u,this.sharingPolicy=l,this.rawGetPointee=c,this.rawConstructor=d,this.rawShare=v,this.rawDestructor=h,!s&&r.baseClass===void 0?n?(this.toWireType=$t,this.destructorFunction=null):(this.toWireType=Ct,this.destructorFunction=null):this.toWireType=wt}var wr=(e,r,t)=>{i.hasOwnProperty(e)||We("Replacing nonexistent public symbol"),i[e].overloadTable!==void 0&&t!==void 0?i[e].overloadTable[t]=r:(i[e]=r,i[e].argCount=t)},St=(e,r,t)=>{e=e.replace(/p/g,"i");var n=i["dynCall_"+e];return n(r,...t)},ue,Oe=e=>ue.get(e),At=(e,r,t=[])=>{if(e.includes("j"))return St(e,r,t);var n=Oe(r)(...t);return e[0]=="p"?n>>>0:n},Cr=(e,r)=>(...t)=>At(e,r,t),D=(e,r)=>{e=F(e);function t(){return e.includes("j")||e.includes("p")?Cr(e,r):Oe(r)}var n=t();return typeof n!="function"&&_(`unknown function pointer with signature ${e}: ${r}`),n},Ft=(e,r)=>{var t=ae(r,function(n){this.name=r,this.message=n;var s=new Error(n).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Tr,Sr=e=>{var r=Or(e),t=F(r);return z(r),t},De=(e,r)=>{var t=[],n={};function s(u){if(!n[u]&&!Q[u]){if(Me[u]){Me[u].forEach(s);return}t.push(u),n[u]=!0}}throw r.forEach(s),new Tr(`${e}: `+t.map(Sr).join([", "]))};function Et(e,r,t,n,s,u,l,c,d,v,h,y,g){e>>>=0,r>>>=0,t>>>=0,n>>>=0,s>>>=0,u>>>=0,l>>>=0,c>>>=0,d>>>=0,v>>>=0,h>>>=0,y>>>=0,g>>>=0,h=F(h),u=D(s,u),c&&=D(l,c),v&&=D(d,v),g=D(y,g);var T=bt(h);Je(T,function(){De(`Cannot construct ${h} due to unbound types`,[n])}),Y([e,r,t],n?[n]:[],$=>{$=$[0];var U,x;n?(U=$.registeredClass,x=U.instancePrototype):x=Ve.prototype;var o=ae(h,function(...w){if(Object.getPrototypeOf(this)!==a)throw new se("Use 'new' to construct "+h);if(f.constructor_body===void 0)throw new se(h+" has no accessible constructor");var W=f.constructor_body[w.length];if(W===void 0)throw new se(`Tried to invoke ctor of ${h} with invalid number of parameters (${w.length}) - expected (${Object.keys(f.constructor_body).toString()}) parameters instead!`);return W.apply(this,w)}),a=Object.create(x,{constructor:{value:o}});o.prototype=a;var f=new Pt(h,o,a,g,U,u,c,v);f.baseClass&&(f.baseClass.__derivedClasses??=[],f.baseClass.__derivedClasses.push(f));var p=new Ie(h,f,!0,!1,!1),m=new Ie(h+"*",f,!1,!1,!1),b=new Ie(h+" const*",f,!1,!0,!1);return Pr[e]={pointerType:m,constPointerType:b},wr(T,o),[p,m,b]})}var Xe=(e,r)=>{for(var t=[],n=0;n<e;n++)t.push(P[r+n*4>>>2>>>0]);return t};function Ar(e){for(var r=1;r<e.length;++r)if(e[r]!==null&&e[r].destructorFunction===void 0)return!0;return!1}function Fr(e,r){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var t=ae(e.name||"unknownFunctionName",function(){});t.prototype=e.prototype;var n=new t,s=e.apply(n,r);return s instanceof Object?s:n}function Rt(e,r,t,n){for(var s=Ar(e),u=e.length,l="",c="",d=0;d<u-2;++d)l+=(d!==0?", ":"")+"arg"+d,c+=(d!==0?", ":"")+"arg"+d+"Wired";var v=`
        return function (${l}) {
        if (arguments.length !== ${u-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${u-2}');
        }`;s&&(v+=`var destructors = [];
`);var h=s?"destructors":"null",y=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];r&&(v+="var thisWired = classParam['toWireType']("+h+`, this);
`);for(var d=0;d<u-2;++d)v+="var arg"+d+"Wired = argType"+d+"['toWireType']("+h+", arg"+d+`);
`,y.push("argType"+d);if(r&&(c="thisWired"+(c.length>0?", ":"")+c),v+=(t||n?"var rv = ":"")+"invoker(fn"+(c.length>0?", ":"")+c+`);
`,s)v+=`runDestructors(destructors);
`;else for(var d=r?1:2;d<e.length;++d){var g=d===1?"thisWired":"arg"+(d-2)+"Wired";e[d].destructorFunction!==null&&(v+=`${g}_dtor(${g});
`,y.push(`${g}_dtor`))}return t&&(v+=`var ret = retType['fromWireType'](rv);
return ret;
`),v+=`}
`,[y,v]}function Ze(e,r,t,n,s,u){var l=r.length;l<2&&_("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var c=r[1]!==null&&t!==null,d=Ar(r),v=r[0].name!=="void",h=[e,_,n,s,Ne,r[0],r[1]],y=0;y<l-2;++y)h.push(r[y+2]);if(!d)for(var y=c?1:2;y<r.length;++y)r[y].destructorFunction!==null&&h.push(r[y].destructorFunction);let[g,T]=Rt(r,c,v,u);g.push(T);var $=Fr(Function,g)(...h);return ae(e,$)}var Mt=function(e,r,t,n,s,u){e>>>=0,t>>>=0,n>>>=0,s>>>=0,u>>>=0;var l=Xe(r,t);s=D(n,s),Y([],[e],c=>{c=c[0];var d=`constructor ${c.name}`;if(c.registeredClass.constructor_body===void 0&&(c.registeredClass.constructor_body=[]),c.registeredClass.constructor_body[r-1]!==void 0)throw new se(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${c.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.registeredClass.constructor_body[r-1]=()=>{De(`Cannot construct ${c.name} due to unbound types`,l)},Y([],l,v=>(v.splice(1,0,null),c.registeredClass.constructor_body[r-1]=Ze(d,v,null,s,u),[])),[]})},Er=e=>{e=e.trim();const r=e.indexOf("(");return r!==-1?e.substr(0,r):e},Wt=function(e,r,t,n,s,u,l,c,d){e>>>=0,r>>>=0,n>>>=0,s>>>=0,u>>>=0,l>>>=0;var v=Xe(t,n);r=F(r),r=Er(r),u=D(s,u),Y([],[e],h=>{h=h[0];var y=`${h.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),c&&h.registeredClass.pureVirtualFunctions.push(r);function g(){De(`Cannot call ${y} due to unbound types`,v)}var T=h.registeredClass.instancePrototype,$=T[r];return $===void 0||$.overloadTable===void 0&&$.className!==h.name&&$.argCount===t-2?(g.argCount=t-2,g.className=h.name,T[r]=g):($r(T,r,y),T[r].overloadTable[t-2]=g),Y([],v,U=>{var x=Ze(y,U,h,u,l,d);return T[r].overloadTable===void 0?(x.argCount=t-2,T[r]=x):T[r].overloadTable[t-2]=x,[]}),[]})},Qe=[],N=[];function Ye(e){e>>>=0,e>9&&--N[e+1]===0&&(N[e]=void 0,Qe.push(e))}var kt=()=>N.length/2-5-Qe.length,Vt=()=>{N.push(0,1,void 0,1,null,1,!0,1,!1,1),i.count_emval_handles=kt},S={toValue:e=>(e||_("Cannot use deleted val. handle = "+e),N[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const r=Qe.pop()||N.length;return N[r]=e,N[r+1]=1,r}}}},It={name:"emscripten::val",fromWireType:e=>{var r=S.toValue(e);return Ye(e),r},toWireType:(e,r)=>S.toHandle(r),argPackAdvance:H,readValueFromPointer:me,destructorFunction:null};function Rr(e){return e>>>=0,L(e,It)}var Ot=(e,r,t)=>{switch(r){case 1:return t?function(n){return this.fromWireType(k[n>>>0])}:function(n){return this.fromWireType(E[n>>>0])};case 2:return t?function(n){return this.fromWireType(J[n>>>1>>>0])}:function(n){return this.fromWireType(he[n>>>1>>>0])};case 4:return t?function(n){return this.fromWireType(K[n>>>2>>>0])}:function(n){return this.fromWireType(P[n>>>2>>>0])};default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Dt(e,r,t,n){e>>>=0,r>>>=0,t>>>=0,r=F(r);function s(){}s.values={},L(e,{name:r,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:(u,l)=>l.value,argPackAdvance:H,readValueFromPointer:Ot(r,t,n),destructorFunction:null}),Je(r,s)}var je=(e,r)=>{var t=Q[e];return t===void 0&&_(`${r} has unknown type ${Sr(e)}`),t};function jt(e,r,t){e>>>=0,r>>>=0;var n=je(e,"enum");r=F(r);var s=n.constructor,u=Object.create(n.constructor.prototype,{value:{value:t},constructor:{value:ae(`${n.name}_${r}`,function(){})}});s.values[t]=u,s[r]=u}var er=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},Ut=(e,r)=>{switch(r){case 4:return function(t){return this.fromWireType(Se[t>>>2>>>0])};case 8:return function(t){return this.fromWireType(Ae[t>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}},xt=function(e,r,t){e>>>=0,r>>>=0,t>>>=0,r=F(r),L(e,{name:r,fromWireType:n=>n,toWireType:(n,s)=>s,argPackAdvance:H,readValueFromPointer:Ut(r,t),destructorFunction:null})};function Bt(e,r,t,n,s,u,l){e>>>=0,t>>>=0,n>>>=0,s>>>=0,u>>>=0;var c=Xe(r,t);e=F(e),e=Er(e),s=D(n,s),Je(e,function(){De(`Cannot call ${e} due to unbound types`,c)},r-1),Y([],c,d=>{var v=[d[0],null].concat(d.slice(1));return wr(e,Ze(e,v,null,s,u,l),r-1),[]})}var Lt=(e,r,t)=>{switch(r){case 1:return t?n=>k[n>>>0]:n=>E[n>>>0];case 2:return t?n=>J[n>>>1>>>0]:n=>he[n>>>1>>>0];case 4:return t?n=>K[n>>>2>>>0]:n=>P[n>>>2>>>0];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Ht(e,r,t,n,s){e>>>=0,r>>>=0,t>>>=0,r=F(r);var u=h=>h;if(n===0){var l=32-8*t;u=h=>h<<l>>>l}var c=r.includes("unsigned"),d=(h,y)=>{},v;c?v=function(h,y){return d(y,this.name),y>>>0}:v=function(h,y){return d(y,this.name),y},L(e,{name:r,fromWireType:u,toWireType:v,argPackAdvance:H,readValueFromPointer:Lt(r,t,n!==0),destructorFunction:null})}function Nt(e,r,t){e>>>=0,t>>>=0;var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=n[r];function u(l){var c=P[l>>>2>>>0],d=P[l+4>>>2>>>0];return new s(k.buffer,d,c)}t=F(t),L(e,{name:t,fromWireType:u,argPackAdvance:H,readValueFromPointer:u},{ignoreDuplicateRegistrations:!0})}function zt(e,r){e>>>=0,Rr(e)}var qt=(e,r,t,n)=>{if(t>>>=0,!(n>0))return 0;for(var s=t,u=t+n-1,l=0;l<e.length;++l){var c=e.charCodeAt(l);if(c>=55296&&c<=57343){var d=e.charCodeAt(++l);c=65536+((c&1023)<<10)|d&1023}if(c<=127){if(t>=u)break;r[t++>>>0]=c}else if(c<=2047){if(t+1>=u)break;r[t++>>>0]=192|c>>6,r[t++>>>0]=128|c&63}else if(c<=65535){if(t+2>=u)break;r[t++>>>0]=224|c>>12,r[t++>>>0]=128|c>>6&63,r[t++>>>0]=128|c&63}else{if(t+3>=u)break;r[t++>>>0]=240|c>>18,r[t++>>>0]=128|c>>12&63,r[t++>>>0]=128|c>>6&63,r[t++>>>0]=128|c&63}}return r[t>>>0]=0,t-s},Gt=(e,r,t)=>qt(e,E,r,t),Jt=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},Mr=typeof TextDecoder<"u"?new TextDecoder:void 0,Kt=(e,r,t)=>{r>>>=0;for(var n=r+t,s=r;e[s]&&!(s>=n);)++s;if(s-r>16&&e.buffer&&Mr)return Mr.decode(e.subarray(r,s));for(var u="";r<s;){var l=e[r++];if(!(l&128)){u+=String.fromCharCode(l);continue}var c=e[r++]&63;if((l&224)==192){u+=String.fromCharCode((l&31)<<6|c);continue}var d=e[r++]&63;if((l&240)==224?l=(l&15)<<12|c<<6|d:l=(l&7)<<18|c<<12|d<<6|e[r++]&63,l<65536)u+=String.fromCharCode(l);else{var v=l-65536;u+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return u},Xt=(e,r)=>(e>>>=0,e?Kt(E,e,r):"");function Zt(e,r){e>>>=0,r>>>=0,r=F(r);var t=r==="std::string";L(e,{name:r,fromWireType(n){var s=P[n>>>2>>>0],u=n+4,l;if(t)for(var c=u,d=0;d<=s;++d){var v=u+d;if(d==s||E[v>>>0]==0){var h=v-c,y=Xt(c,h);l===void 0?l=y:(l+="\0",l+=y),c=v+1}}else{for(var g=new Array(s),d=0;d<s;++d)g[d]=String.fromCharCode(E[u+d>>>0]);l=g.join("")}return z(n),l},toWireType(n,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u,l=typeof s=="string";l||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||_("Cannot pass non-string to std::string"),t&&l?u=Jt(s):u=s.length;var c=or(4+u+1),d=c+4;if(P[c>>>2>>>0]=u,t&&l)Gt(s,d,u+1);else if(l)for(var v=0;v<u;++v){var h=s.charCodeAt(v);h>255&&(z(d),_("String has UTF-16 code units that do not fit in 8 bits")),E[d+v>>>0]=h}else for(var v=0;v<u;++v)E[d+v>>>0]=s[v];return n!==null&&n.push(z,c),c},argPackAdvance:H,readValueFromPointer:me,destructorFunction(n){z(n)}})}var Wr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Qt=(e,r)=>{for(var t=e,n=t>>1,s=n+r/2;!(n>=s)&&he[n>>>0];)++n;if(t=n<<1,t-e>32&&Wr)return Wr.decode(E.subarray(e>>>0,t>>>0));for(var u="",l=0;!(l>=r/2);++l){var c=J[e+l*2>>>1>>>0];if(c==0)break;u+=String.fromCharCode(c)}return u},Yt=(e,r,t)=>{if(t??=2147483647,t<2)return 0;t-=2;for(var n=r,s=t<e.length*2?t/2:e.length,u=0;u<s;++u){var l=e.charCodeAt(u);J[r>>>1>>>0]=l,r+=2}return J[r>>>1>>>0]=0,r-n},en=e=>e.length*2,rn=(e,r)=>{for(var t=0,n="";!(t>=r/4);){var s=K[e+t*4>>>2>>>0];if(s==0)break;if(++t,s>=65536){var u=s-65536;n+=String.fromCharCode(55296|u>>10,56320|u&1023)}else n+=String.fromCharCode(s)}return n},tn=(e,r,t)=>{if(r>>>=0,t??=2147483647,t<4)return 0;for(var n=r,s=n+t-4,u=0;u<e.length;++u){var l=e.charCodeAt(u);if(l>=55296&&l<=57343){var c=e.charCodeAt(++u);l=65536+((l&1023)<<10)|c&1023}if(K[r>>>2>>>0]=l,r+=4,r+4>s)break}return K[r>>>2>>>0]=0,r-n},nn=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r},on=function(e,r,t){e>>>=0,r>>>=0,t>>>=0,t=F(t);var n,s,u,l;r===2?(n=Qt,s=Yt,l=en,u=c=>he[c>>>1>>>0]):r===4&&(n=rn,s=tn,l=nn,u=c=>P[c>>>2>>>0]),L(e,{name:t,fromWireType:c=>{for(var d=P[c>>>2>>>0],v,h=c+4,y=0;y<=d;++y){var g=c+4+y*r;if(y==d||u(g)==0){var T=g-h,$=n(h,T);v===void 0?v=$:(v+="\0",v+=$),h=g+r}}return z(c),v},toWireType:(c,d)=>{typeof d!="string"&&_(`Cannot pass non-string to C++ string type ${t}`);var v=l(d),h=or(4+v+r);return P[h>>>2>>>0]=v/r,s(d,h+4,v+r),c!==null&&c.push(z,h),h},argPackAdvance:H,readValueFromPointer:me,destructorFunction(c){z(c)}})};function sn(e,r,t,n,s,u){e>>>=0,r>>>=0,t>>>=0,n>>>=0,s>>>=0,u>>>=0,Re[e]={name:F(r),rawConstructor:D(t,n),rawDestructor:D(s,u),fields:[]}}function an(e,r,t,n,s,u,l,c,d,v){e>>>=0,r>>>=0,t>>>=0,n>>>=0,s>>>=0,u>>>=0,l>>>=0,c>>>=0,d>>>=0,v>>>=0,Re[e].fields.push({fieldName:F(r),getterReturnType:t,getter:D(n,s),getterContext:u,setterArgumentType:l,setter:D(c,d),setterContext:v})}var un=function(e,r){e>>>=0,r>>>=0,r=F(r),L(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})};function cn(e,r,t){return e>>>=0,r>>>=0,t>>>=0,E.copyWithin(e>>>0,r>>>0,r+t>>>0)}var kr=(e,r,t)=>{var n=[],s=e.toWireType(n,t);return n.length&&(P[r>>>2>>>0]=S.toHandle(n)),s};function fn(e,r,t){return e>>>=0,r>>>=0,t>>>=0,e=S.toValue(e),r=je(r,"emval::as"),kr(r,t,e)}var ln={},Vr=e=>{var r=ln[e];return r===void 0?F(e):r},rr=[];function dn(e,r,t,n,s){return e>>>=0,r>>>=0,t>>>=0,n>>>=0,s>>>=0,e=rr[e],r=S.toValue(r),t=Vr(t),e(r,r[t],n,s)}function vn(e,r){return e>>>=0,r>>>=0,e=S.toValue(e),r=S.toValue(r),e==r}var pn=e=>{var r=rr.length;return rr.push(e),r},hn=(e,r)=>{for(var t=new Array(e),n=0;n<e;++n)t[n]=je(P[r+n*4>>>2>>>0],"parameter "+n);return t};function yn(e,r,t){r>>>=0;var n=hn(e,r),s=n.shift();e--;var u=`return function (obj, func, destructorsRef, args) {
`,l=0,c=[];t===0&&c.push("obj");for(var d=["retType"],v=[s],h=0;h<e;++h)c.push("arg"+h),d.push("argType"+h),v.push(n[h]),u+=`  var arg${h} = argType${h}.readValueFromPointer(args${l?"+"+l:""});
`,l+=n[h].argPackAdvance;var y=t===1?"new func":"func.call";u+=`  var rv = ${y}(${c.join(", ")});
`,s.isVoid||(d.push("emval_returnValue"),v.push(kr),u+=`  return emval_returnValue(retType, destructorsRef, rv);
`),u+=`};
`,d.push(u);var g=Fr(Function,d)(...v),T=`methodCaller<(${n.map($=>$.name).join(", ")}) => ${s.name}>`;return pn(ae(T,g))}function mn(e,r){return e>>>=0,r>>>=0,e=S.toValue(e),r=S.toValue(r),S.toHandle(e[r])}function _n(e){e>>>=0,e>9&&(N[e+1]+=1)}function gn(e){return e>>>=0,S.toHandle(Vr(e))}function bn(){return S.toHandle({})}function Pn(e){e>>>=0;var r=S.toValue(e);Ne(r),Ye(e)}function $n(e,r,t){e>>>=0,r>>>=0,t>>>=0,e=S.toValue(e),r=S.toValue(r),t=S.toValue(t),e[r]=t}function wn(e,r){e>>>=0,r>>>=0,e=je(e,"_emval_take_value");var t=e.readValueFromPointer(r);return S.toHandle(t)}var Cn=()=>4294901760,Tn=e=>{var r=Te.buffer,t=(e-r.byteLength+65535)/65536;try{return Te.grow(t),ur(),1}catch{}};function Sn(e){e>>>=0;var r=E.length,t=Cn();if(e>t)return!1;for(var n=(d,v)=>d+(v-d%v)%v,s=1;s<=4;s*=2){var u=r*(1+.2/s);u=Math.min(u,e+100663296);var l=Math.min(t,n(Math.max(e,u),65536)),c=Tn(l);if(c)return!0}return!1}var Ir=(e,r)=>{e<128?r.push(e):r.push(e%128|128,e>>7)},An=e=>{for(var r={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},t={parameters:[],results:e[0]=="v"?[]:[r[e[0]]]},n=1;n<e.length;++n)t.parameters.push(r[e[n]]);return t},Fn=(e,r)=>{var t=e.slice(0,1),n=e.slice(1),s={i:127,p:127,j:126,f:125,d:124,e:111};r.push(96),Ir(n.length,r);for(var u=0;u<n.length;++u)r.push(s[n[u]]);t=="v"?r.push(0):r.push(1,s[t])},En=(e,r)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(An(r),e);var t=[1];Fn(r,t);var n=[0,97,115,109,1,0,0,0,1];Ir(t.length,n),n.push(...t),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var s=new WebAssembly.Module(new Uint8Array(n)),u=new WebAssembly.Instance(s,{e:{f:e}}),l=u.exports.f;return l},Rn=(e,r)=>{if(ee)for(var t=e;t<e+r;t++){var n=Oe(t);n&&ee.set(n,t)}},ee,Mn=e=>(ee||(ee=new WeakMap,Rn(0,ue.length)),ee.get(e)||0),tr=[],Wn=()=>{if(tr.length)return tr.pop();try{ue.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return ue.length-1},nr=(e,r)=>ue.set(e,r),$e=(e,r)=>{var t=Mn(e);if(t)return t;var n=Wn();try{nr(n,e)}catch(u){if(!(u instanceof TypeError))throw u;var s=En(e,r);nr(n,s)}return ee.set(e,n),n},we=e=>{ee.delete(Oe(e)),nr(e,null),tr.push(e)};yr=i.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},it(),se=i.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},mt(),vt(),Tt(),Tr=i.UnboundTypeError=Ft(Error,"UnboundTypeError"),Vt();var kn={i:rt,D:tt,n:nt,C:ot,H:at,h:Et,g:Mt,a:Wt,G:Rr,t:Dt,e:jt,x:xt,c:Bt,j:Ht,f:Nt,k:zt,w:Zt,s:on,o:sn,l:an,I:un,F:cn,v:fn,z:dn,b:Ye,m:vn,y:yn,B:mn,u:_n,q:gn,A:bn,p:Pn,r:$n,d:wn,E:Sn},j=Yr(),Or=e=>(Or=j.L)(e),or=e=>(or=j.N)(e),z=e=>(z=j.O)(e),Dr=e=>(Dr=j.P)(e);function Vn(e){e=Object.assign({},e);var r=n=>s=>n(s)>>>0,t=n=>()=>n()>>>0;return e.L=r(e.L),e.N=r(e.N),e._emscripten_stack_alloc=r(e._emscripten_stack_alloc),e.emscripten_stack_get_current=t(e.emscripten_stack_get_current),e}i.addFunction=$e,i.removeFunction=we;var Ue;ye=function e(){Ue||jr(),Ue||(ye=e)};function jr(){if(Z>0||(xr(),Z>0))return;function e(){Ue||(Ue=!0,i.calledRun=!0,!ar&&(Br(),de(i),i.onRuntimeInitialized?.(),Lr()))}i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),e()},1)):e()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return jr(),re=q,re})})();export{Un as M};
//# sourceMappingURL=manifold.js.map
